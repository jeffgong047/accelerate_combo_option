
Generating frontier for markets:   0%|                                                                          | 0/19 [00:00<?, ?it/s]
There are 27 buy orders and 23 sell orders
#####Generating market 1 with size 50 and noise 0.015625#####
Starting computation for iteration 1
checking match True 3.682967171065343
matched_order_index: {'buy_book_index': [0, 11, 12], 'sell_book_index': [27, 30, 32, 34, 36, 38, 40, 41, 45, 46]}
> /common/home/hg343/Research/accelerate_combo_option/src/market.py(69)remove_matched_orders()
Generating frontier for markets:   0%|                                                                          | 0/19 [00:00<?, ?it/s]/common/home/hg343/Research/accelerate_combo_option/src/market.py:271: FutureWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
  frontier_labels = pd.Series(None, index=orders.index)
Processing order 1 (1/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      5.0      2.0           -1.0                                  890.0               1.0       0.53          1
quote price: 0.53
> /common/home/hg343/Research/accelerate_combo_option/src/market.py(215)priceQuote()
-> return objVal
quote_price: 0.53, original_price: 0.53
Processing order 2 (2/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      2.0     -1.0            1.0                                  243.0               1.0       0.03          1
quote price: 0.03
> /common/home/hg343/Research/accelerate_combo_option/src/market.py(215)priceQuote()
-> return objVal
quote_price: 0.03, original_price: 0.03
Processing order 3 (3/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      1.0      3.0            1.0                                  428.5               1.0      45.18          1
quote price: 45.17999999999559
> /common/home/hg343/Research/accelerate_combo_option/src/market.py(215)priceQuote()
-> return objVal
quote_price: 45.17999999999559, original_price: 45.18
Processing order 4 (4/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      1.0      1.0           -1.0                                  283.0               1.0      20.76          1
quote price: 20.75999999999852
> /common/home/hg343/Research/accelerate_combo_option/src/market.py(215)priceQuote()
-> return objVal
quote_price: 20.75999999999852, original_price: 20.76
Processing order 5 (5/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      8.0     -7.0            1.0                                  610.0               1.0       0.09          1
quote price: 0.09
> /common/home/hg343/Research/accelerate_combo_option/src/market.py(215)priceQuote()
-> return objVal
quote_price: 0.09, original_price: 0.09
Processing order 6 (6/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote     -1.0      2.0           -1.0                                   77.0               1.0      13.61          1
quote price: 15.610161695250774
> /common/home/hg343/Research/accelerate_combo_option/src/market.py(215)priceQuote()
-> return objVal
Error in mechanism solver for buy order quote:
No valid quote price for order 6
Processing order 7 (7/37)
checking match False -0.0
Ctrl+C received. Terminating processes...
Generating frontier for markets:   0%|                                                                          | 0/19 [04:12<?, ?it/s]
Traceback (most recent call last):
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor_forked.py", line 162, in <module>
    market.remove_matched_orders()
  File "/common/home/hg343/Research/accelerate_combo_option/src/market.py", line 296, in frontierGeneration
    frontier_labels[original_index] = np.nan
  File "/common/home/hg343/Research/accelerate_combo_option/src/market.py", line 211, in priceQuote
    is_match, objVal = self.apply_mechanism(market_orders, offset)
  File "/common/home/hg343/Research/accelerate_combo_option/src/market.py", line 139, in apply_mechanism
    result = async_result.get(timeout=timeout)
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 765, in get
    self.wait(timeout)
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 762, in wait
    self._event.wait(timeout)
  File "/common/home/hg343/anaconda3/lib/python3.9/threading.py", line 574, in wait
    signaled = self._cond.wait(timeout)
  File "/common/home/hg343/anaconda3/lib/python3.9/threading.py", line 316, in wait
    gotit = waiter.acquire(True, timeout)
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor_forked.py", line 58, in signal_handler
    pool.terminate()
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 654, in terminate
    self._terminate()
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/util.py", line 224, in __call__
    res = self._callback(*self._args, **self._kwargs)
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 692, in _terminate_pool
    cls._help_stuff_finish(inqueue, task_handler, len(pool))
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 672, in _help_stuff_finish
    inqueue._rlock.acquire()
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor_forked.py", line 60, in signal_handler
    sys.exit(1)
  File "/common/home/hg343/anaconda3/lib/python3.9/site-packages/wandb/sdk/lib/exit_hooks.py", line 36, in exit
    self._orig_exit(orig_code)  # type: ignore
SystemExit: 1
Ctrl+C received. Terminating processes...