
Generating frontier for markets:   0%|                                                         | 0/98 [00:00<?, ?it/s]
There are 34 buy orders and 16 sell orders
#####Generating combinatorial/book/STOCK_2_SEED_2_book_GS_MSFT.npy with size 50 and noise 0.25#####
Starting async computation for iteration 2
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(579)<module>()
-> result = synthetic_combo_frontier_generation(opt_orders_df, offset = args.offset)
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(79)synthetic_combo_frontier_generation()
-> original_opt_buy_book = original_orders_df.where(original_orders_df['transaction_type'] == 1).dropna()
Set parameter Username
Generating frontier for markets:   0%|                                                         | 0/98 [00:00<?, ?it/s]/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py:79: FutureWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
  original_opt_buy_book = original_orders_df.where(original_orders_df['transaction_type'] == 1).dropna()
Checking buy side options:  16%|████████▊                                              | 4/25 [00:00<00:03,  6.50it/s]
Int64Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
            17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32,
            33],
           dtype='int64') {2, 4, 5, 6, 7, 11, 12, 28, 30}
Int64Index([34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49], dtype='int64') {34, 36, 39, 41, 42, 43, 44, 45, 46, 47, 48, 49}
25
4

Checking buy side options:  48%|█████████████████████████▉                            | 12/25 [00:02<00:02,  5.78it/s]
original bid: 83.62,quoted bid: 83.62
original bid: 232.07,quoted bid: 232.07
original bid: 130.36,quoted bid: 130.36
original bid: 7.75,quoted bid: 7.75
original bid: 100.52,quoted bid: 100.52
original bid: 105.17,quoted bid: 105.17

Checking buy side options:  80%|███████████████████████████████████████████▏          | 20/25 [00:04<00:00,  6.18it/s]
original bid: 68.28,quoted bid: 68.28
original bid: 4.4,quoted bid: 4.4
original bid: 65.67,quoted bid: 65.67
original bid: 197.72,quoted bid: 197.72
original bid: 0.01,quoted bid: 0.01
original bid: 1.12,quoted bid: 1.12
original bid: 14.53,quoted bid: 14.53
original bid: 323.75,quoted bid: 323.75
Checking buy side options: 100%|██████████████████████████████████████████████████████| 25/25 [00:04<00:00,  5.04it/s]
Checking sell side options:   0%|                                                               | 0/4 [00:00<?, ?it/s]
original bid: 61.77,quoted bid: 61.76999999999998
original bid: 43.39,quoted bid: 43.39
original bid: 20.93,quoted bid: 20.93
original ask: 2.69,
quoted ask: 13.489750711332817
buy 5.206944430851827e-05 from 1.0(1.0+1.0,238.5) at 65.67
buy 1.0 from 1.0(1.0+-1.0,294.0) at 10000.0
sell 2.0088622881016722e-05 to 2.0(1.0+-1.0,360.0) at 0.03
sell 0.0999948825535122 to 3.0(-4.0+-1.0,188.5) at 29.62
sell 0.6999772812913772 to 1.0(2.0+-1.0,379.0) at 0.97
order to quote: option1                                    1.00
option2                                    1.00
C=Call, P=Put                             -1.00
Strike Price of the Option Times 1000    294.00
transaction_type                           0.00
B/A_price                                  2.69
Name: 35, dtype: float64
quote_price: 13.489750711332817
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(266)synthetic_combo_frontier_generation()

Checking sell side options:  25%|█████████████▊                                         | 1/4 [00:05<00:16,  5.63s/it]
original ask: 0.03,
quoted ask: 4.890697305865615
buy 1.0 from 2.0(1.0+-1.0,360.0) at 10000.0
sell 1.0 to 1.0(1.0+-1.0,294.0) at 2.69
sell 0.06973058637083994 to 3.0(-4.0+-1.0,188.5) at 29.62
sell 0.13946117274167988 to 1.0(2.0+-1.0,379.0) at 0.97
order to quote: option1                                    2.00
option2                                    1.00
C=Call, P=Put                             -1.00
Strike Price of the Option Times 1000    360.00
transaction_type                           0.00
B/A_price                                  0.03
Name: 37, dtype: float64
quote_price: 4.890697305865615
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(266)synthetic_combo_frontier_generation()

Checking sell side options:  75%|█████████████████████████████████████████▎             | 3/4 [00:09<00:02,  2.46s/it]
original ask: 29.62,
quoted ask: 10000.0
order to quote: option1                                    3.00
option2                                   -4.00
C=Call, P=Put                             -1.00
Strike Price of the Option Times 1000    188.50
transaction_type                           0.00
B/A_price                                 29.62
Name: 38, dtype: float64
quote_price: 10000.0
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(266)synthetic_combo_frontier_generation()
-> for option_index in tqdm(range(len(opt_sell_book_holder)), desc='Checking sell side options'):
original ask: 0.97,
quoted ask: 87.66295962650656
buy 8.5e-05 from 4.0(7.0+1.0,1213.0) at 323.75
buy 0.0013022390362700728 from 4.0(-3.0+-1.0,488.5) at 20.93
buy 1.0 from 1.0(2.0+-1.0,379.0) at 10000.0
sell 1.0 to 1.0(1.0+-1.0,294.0) at 2.69
sell 0.0013179844584726061 to 2.0(1.0+-1.0,360.0) at 0.03
sell 0.0009349999999999906 to 3.0(-4.0+-1.0,188.5) at 29.62
order to quote: option1                                    1.00
option2                                    2.00
C=Call, P=Put                             -1.00
Strike Price of the Option Times 1000    379.00
transaction_type                           0.00
B/A_price                                  0.97
Name: 40, dtype: float64
quote_price: 87.66295962650656
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(266)synthetic_combo_frontier_generation()

Checking sell side options: 100%|███████████████████████████████████████████████████████| 4/4 [00:19<00:00,  5.49s/it]
    transaction_type  B/A_price  belongs_to_frontier
0                1.0       0.05                  1.0
1                1.0      83.62                  1.0
3                1.0     232.07                  1.0
8                1.0      89.55                  0.0
9                1.0     130.36                  1.0
10               1.0       7.75                  1.0
13               1.0       0.47                  0.0
14               1.0     100.52                  1.0
15               1.0     105.17                  1.0
16               1.0       1.25                  1.0
17               1.0      68.28                  1.0
18               1.0       4.40                  1.0
19               1.0      65.67                  1.0
20               1.0      54.51                  0.0
21               1.0     197.72                  1.0
22               1.0      45.21                  0.0
23               1.0       0.01                  1.0
24               1.0       1.12                  1.0
25               1.0      14.53                  1.0
26               1.0     323.75                  1.0
27               1.0     244.49                  1.0
29               1.0      61.77                  1.0
31               1.0       1.79                  0.0
32               1.0      43.39                  1.0
33               1.0      20.93                  1.0
35               0.0       2.69                  1.0
37               0.0       0.03                  1.0
38               0.0      29.62                  1.0
40               0.0       0.97                  1.0
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(582)<module>()
Generating frontier for markets:   0%|                                                         | 0/98 [00:45<?, ?it/s]
Traceback (most recent call last):
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py", line 582, in <module>
    async_result = pool.apply_async(run_with_timeout, (opt_orders_df, args.offset))
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py", line 582, in <module>
    async_result = pool.apply_async(run_with_timeout, (opt_orders_df, args.offset))
  File "/common/home/hg343/anaconda3/lib/python3.9/bdb.py", line 88, in trace_dispatch
    return self.dispatch_line(frame)
  File "/common/home/hg343/anaconda3/lib/python3.9/bdb.py", line 113, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit