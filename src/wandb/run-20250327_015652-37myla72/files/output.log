
Generating frontier for markets:   0%|                                                                    | 0/99 [00:00<?, ?it/s]
There are 27 buy orders and 23 sell orders
#####Generating market 1 with size 50 and noise 0.0625#####
Starting computation for iteration 1
Generating frontier for markets:   0%|                                                                    | 0/99 [00:00<?, ?it/s]/common/home/hg343/Research/accelerate_combo_option/src/market.py:275: FutureWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
  frontier_labels = pd.Series(None, index=orders.index)
/common/home/hg343/Research/accelerate_combo_option/src/market.py:276: FutureWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
  quote_prices = pd.Series(None, index=orders.index)  # Create a Series to store quote prices
checking match False -0.0
Processing order 0 (1/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      4.0     -3.0            1.0                                  319.0               1.0     144.83          1
quote price: 157.71
quote_price: 157.71, original_price: 144.83
Processing order 1 (2/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote     -1.0      2.0            1.0                                   12.0               1.0       4.58          1
quote price: 7.76
quote_price: 7.76, original_price: 4.58
Processing order 2 (3/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      8.0     -3.0           -1.0                                 1119.5               1.0       0.29          1
quote price: -0.0
quote_price: -0.0, original_price: 0.29
Processing order 3 (4/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote     -1.0      6.0            1.0                                  300.5               1.0     143.91          1
quote price: 128.86
quote_price: 128.86, original_price: 143.91
Processing order 7 (5/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      3.0     -1.0            1.0                                  333.0               1.0     157.07          1
quote price: 154.04
quote_price: 154.04, original_price: 157.07
Processing order 8 (6/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote     -1.0      9.0           -1.0                                  585.0               1.0       0.12          1
quote price: 8.24
quote_price: 8.24, original_price: 0.12
Processing order 9 (7/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      4.0     -5.0            1.0                                  130.0               1.0     115.05          1
quote price: 134.65
quote_price: 134.65, original_price: 115.05
Processing order 10 (8/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      5.0     -8.0            1.0                                   49.0               1.0       70.6          1
quote price: 96.25
quote_price: 96.25, original_price: 70.6
Processing order 11 (9/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      5.0     -8.0           -1.0                                  164.5               1.0      31.53          1
quote price: 51.11
quote_price: 51.11, original_price: 31.53
Processing order 13 (10/37)
checking match False -0.0
quote_price: 0.01, original_price: 0.51
Processing order 14 (11/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      5.0     -2.0            1.0                                  744.5               1.0      28.07          1
quote price: 36.98
quote_price: 36.98, original_price: 28.07
Processing order 16 (12/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote     -1.0      4.0           -1.0                                  189.0               1.0       0.21          1
quote price: 5.9
quote_price: 5.9, original_price: 0.21
Processing order 17 (13/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      3.0     -7.0           -1.0                                   22.0               1.0     186.47          1
quote price: 181.74
quote_price: 181.74, original_price: 186.47
Processing order 18 (14/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      1.0     -1.0            1.0                                   28.0               1.0      63.75          1
quote price: 64.62
quote_price: 64.62, original_price: 63.75
Processing order 19 (15/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      5.0      4.0           -1.0                                 1421.0               1.0       3.16          1
quote price: 34.9
quote_price: 34.9, original_price: 3.16
Processing order 20 (16/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      4.0     -3.0           -1.0                                  618.0               1.0     146.28          1
quote price: 165.99
quote_price: 165.99, original_price: 146.28
Processing order 21 (17/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote     -1.0      3.0            1.0                                  115.5               1.0       9.16          1
quote price: 9.37
quote_price: 9.37, original_price: 9.16
Processing order 22 (18/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      9.0      7.0           -1.0                                 2594.0               1.0      62.31          1
quote price: 119.92
quote_price: 119.92, original_price: 62.31
Processing order 23 (19/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      1.0     -1.0            1.0                                   37.0               1.0      52.57          1
quote price: 55.67
quote_price: 55.67, original_price: 52.57
Processing order 24 (20/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      8.0     -9.0            1.0                                  603.5               1.0        4.7          1
quote price: 50.53
quote_price: 50.53, original_price: 4.7
Processing order 25 (21/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      5.0     -7.0           -1.0                                  489.5               1.0     255.48          1
quote price: 268.87
quote_price: 268.87, original_price: 255.48
Processing order 26 (22/37)
checking match False -0.0
option_to_quote:        option1  option2  C=Call, P=Put  Strike Price of the Option Times 1000  transaction_type  B/A_price  liquidity
quote      7.0     -1.0           -1.0                                 1309.5               1.0      42.71          1
quote price: 68.89
quote_price: 68.89, original_price: 42.71
Processing order 27 (23/37)
checking match False -0.0
quote_price: 3.63, original_price: 2.38
Processing order 28 (24/37)
checking match False -0.0
quote_price: 1.74, original_price: 0.49
Processing order 29 (25/37)
checking match False -0.0
quote_price: 0.96, original_price: 0.04
Processing order 30 (26/37)
checking match False -0.0
quote_price: 1.1, original_price: 1.14
Processing order 31 (27/37)
checking match False -0.0
quote_price: 0.29, original_price: 0.04
Processing order 32 (28/37)
checking match False -0.0
quote_price: 66.77, original_price: 43.7
Processing order 33 (29/37)
checking match False -0.0
quote_price: 52940.19, original_price: 117.32
Processing order 37 (30/37)
checking match False -0.0
quote_price: 1.35, original_price: 0.94
Processing order 38 (31/37)
checking match False -0.0
quote_price: 0.99, original_price: 0.95
Processing order 39 (32/37)
checking match False -0.0
quote_price: 0.56, original_price: 0.13
Processing order 41 (33/37)
checking match False -0.0
quote_price: 1.13, original_price: 0.74
Processing order 44 (34/37)
checking match False -0.0
quote_price: 0.97, original_price: 1.59
Processing order 45 (35/37)
checking match False -0.0
quote_price: 6.43, original_price: 0.92
Processing order 48 (36/37)
checking match False -0.0
quote_price: 34.78, original_price: 8.37
Processing order 49 (37/37)
checking match False -0.0
quote_price: 35.21, original_price: 4.36
    option1  option2  C=Call, P=Put  ...  B/A_price  liquidity  belongs_to_frontier
0       4.0     -3.0            1.0  ...     144.83          1                  0.0
1      -1.0      2.0            1.0  ...       4.58          1                  0.0
2       8.0     -3.0           -1.0  ...       0.29          1                  1.0
3      -1.0      6.0            1.0  ...     143.91          1                  1.0
7       3.0     -1.0            1.0  ...     157.07          1                  1.0
8      -1.0      9.0           -1.0  ...       0.12          1                  0.0
9       4.0     -5.0            1.0  ...     115.05          1                  0.0
10      5.0     -8.0            1.0  ...      70.60          1                  0.0
11      5.0     -8.0           -1.0  ...      31.53          1                  0.0
13      2.0      1.0           -1.0  ...       0.51          1                  1.0
14      5.0     -2.0            1.0  ...      28.07          1                  0.0
16     -1.0      4.0           -1.0  ...       0.21          1                  0.0
17      3.0     -7.0           -1.0  ...     186.47          1                  1.0
18      1.0     -1.0            1.0  ...      63.75          1                  0.0
19      5.0      4.0           -1.0  ...       3.16          1                  0.0
20      4.0     -3.0           -1.0  ...     146.28          1                  0.0
21     -1.0      3.0            1.0  ...       9.16          1                  0.0
22      9.0      7.0           -1.0  ...      62.31          1                  0.0
23      1.0     -1.0            1.0  ...      52.57          1                  0.0
24      8.0     -9.0            1.0  ...       4.70          1                  0.0
25      5.0     -7.0           -1.0  ...     255.48          1                  0.0
26      7.0     -1.0           -1.0  ...      42.71          1                  0.0
27      3.0     -2.0           -1.0  ...       2.38          1                  1.0
28      3.0     -1.0           -1.0  ...       0.49          1                  1.0
29      1.0     -1.0           -1.0  ...       0.04          1                  1.0
30      8.0      9.0           -1.0  ...       1.14          1                  0.0
31      1.0      3.0           -1.0  ...       0.04          1                  1.0
32     -1.0      4.0            1.0  ...      43.70          1                  1.0
33      3.0      7.0            1.0  ...     117.32          1                  1.0
37      7.0      4.0           -1.0  ...       0.94          1                  1.0
38      7.0      8.0           -1.0  ...       0.95          1                  1.0
39      8.0      7.0           -1.0  ...       0.13          1                  1.0
41      3.0      2.0           -1.0  ...       0.74          1                  1.0
44      1.0     -1.0           -1.0  ...       1.59          1                  0.0
45      1.0      6.0           -1.0  ...       0.92          1                  1.0
48      5.0     -8.0           -1.0  ...       8.37          1                  1.0
49      2.0      3.0           -1.0  ...       4.36          1                  1.0
[37 rows x 8 columns]
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor_forked.py(178)<module>()
-> if frontier_option_label_epsilon is not None and not np.isnan(frontier_option_label_epsilon['belongs_to_frontier']).any():
Ctrl+C received. Terminating processes...
Generating frontier for markets:   0%|                                                                    | 0/99 [01:04<?, ?it/s]
Traceback (most recent call last):
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor_forked.py", line 178, in <module>
    if frontier_option_label_epsilon is not None and not np.isnan(frontier_option_label_epsilon['belongs_to_frontier']).any():
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor_forked.py", line 178, in <module>
    if frontier_option_label_epsilon is not None and not np.isnan(frontier_option_label_epsilon['belongs_to_frontier']).any():
  File "/common/home/hg343/anaconda3/lib/python3.9/bdb.py", line 88, in trace_dispatch
    return self.dispatch_line(frame)
  File "/common/home/hg343/anaconda3/lib/python3.9/bdb.py", line 112, in dispatch_line
    self.user_line(frame)
  File "/common/home/hg343/anaconda3/lib/python3.9/pdb.py", line 262, in user_line
    self.interaction(frame, None)
  File "/common/home/hg343/anaconda3/lib/python3.9/pdb.py", line 357, in interaction
    self._cmdloop()
  File "/common/home/hg343/anaconda3/lib/python3.9/pdb.py", line 322, in _cmdloop
    self.cmdloop()
  File "/common/home/hg343/anaconda3/lib/python3.9/cmd.py", line 126, in cmdloop
    line = input(self.prompt)
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor_forked.py", line 58, in signal_handler
    pool.terminate()
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 654, in terminate
    self._terminate()
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/util.py", line 224, in __call__
    res = self._callback(*self._args, **self._kwargs)
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 692, in _terminate_pool
    cls._help_stuff_finish(inqueue, task_handler, len(pool))
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 672, in _help_stuff_finish
    inqueue._rlock.acquire()
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor_forked.py", line 60, in signal_handler
    sys.exit(1)
  File "/common/home/hg343/anaconda3/lib/python3.9/site-packages/wandb/sdk/lib/exit_hooks.py", line 36, in exit
    self._orig_exit(orig_code)  # type: ignore
SystemExit: 1
Ctrl+C received. Terminating processes...