Generating frontier for markets:   0%|                                                                          | 0/19 [00:00<?, ?it/s]/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py:80: FutureWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
  quote_price = pd.Series(index=original_opt_buy_book.index)
There are 27 buy orders and 23 sell orders
#####Generating combinatorial/book/STOCK_2_SEED_2_book_AAPL_MSFT.npy with size 50 and noise 0.015625#####
Starting async computation for iteration 1
Set parameter Username
Academic license - for non-commercial use only - expires 2025-11-08
matched_stock: {'buy_book_index': [0, 11, 12], 'sell_book_index': [27, 30, 32, 34, 36, 38, 40, 41, 45, 46]}
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(99)synthetic_combo_frontier_generation()
-> remove_buy_book = set(matched_stock['buy_book_index'])  # Convert to set for faster lookup
Checking buy side options:   0%|                                                                                | 0/24 [00:00<?, ?it/s]
Int64Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
            17, 18, 19, 20, 21, 22, 23, 24, 25, 26],
           dtype='int64') {0, 11, 12}
Int64Index([27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43,
            44, 45, 46, 47, 48, 49],
           dtype='int64') {32, 34, 36, 38, 40, 41, 45, 46, 27, 30}
24
13
order to quote: option1                                    5.00
option2                                    2.00
C=Call, P=Put                             -1.00
Strike Price of the Option Times 1000    890.00
transaction_type                           1.00
B/A_price                                  0.53
Name: 1, dtype: float64
quote_price: 0.53
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(128)synthetic_combo_frontier_generation()

Checking buy side options:   4%|███                                                                     | 1/24 [00:18<06:59, 18.24s/it]
order to quote: option1                                    2.00
option2                                   -1.00
C=Call, P=Put                              1.00
Strike Price of the Option Times 1000    243.00
transaction_type                           1.00
B/A_price                                  0.03
Name: 2, dtype: float64
quote_price: 0.03
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(128)synthetic_combo_frontier_generation()

Checking buy side options:   8%|██████                                                                  | 2/24 [00:26<04:38, 12.66s/it]
order to quote: option1                                    1.00
option2                                    3.00
C=Call, P=Put                              1.00
Strike Price of the Option Times 1000    428.50
transaction_type                           1.00
B/A_price                                 45.18
Name: 3, dtype: float64
quote_price: 45.17999999999572
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(128)synthetic_combo_frontier_generation()
-> for option_index in tqdm(range(len(opt_buy_book_holder)), desc='Checking buy side options'):
order to quote: option1                                    1.00
option2                                    1.00
C=Call, P=Put                             -1.00
Strike Price of the Option Times 1000    283.00
transaction_type                           1.00
B/A_price                                 20.76
Name: 4, dtype: float64
quote_price: 20.75999999999852
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(128)synthetic_combo_frontier_generation()

Checking buy side options:  12%|█████████                                                               | 3/24 [02:10<18:59, 54.26s/it]
order to quote: option1                                    8.00
option2                                   -7.00
C=Call, P=Put                              1.00
Strike Price of the Option Times 1000    610.00
transaction_type                           1.00
B/A_price                                  0.09
Name: 5, dtype: float64
quote_price: 0.09
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(128)synthetic_combo_frontier_generation()

Checking buy side options:  17%|████████████                                                            | 4/24 [02:12<11:12, 33.62s/it]
order to quote: option1                                  -1.00
option2                                   2.00
C=Call, P=Put                            -1.00
Strike Price of the Option Times 1000    77.00
transaction_type                          1.00
B/A_price                                13.61
Name: 6, dtype: float64
quote_price: 15.610161695250774
> /common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py(128)synthetic_combo_frontier_generation()

Checking buy side options:  21%|███████████████                                                         | 5/24 [02:20<07:44, 24.46s/it]
Ctrl+C received. Terminating processes...
Generating frontier for markets:   0%|                                                                          | 0/19 [04:20<?, ?it/s]
Traceback (most recent call last):
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py", line 536, in <module>
    # # frontier_option_label = async_result.get(timeout=600)
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py", line 128, in synthetic_combo_frontier_generation
    for option_index in tqdm(range(len(opt_buy_book_holder)), desc='Checking buy side options'):
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py", line 128, in synthetic_combo_frontier_generation
    for option_index in tqdm(range(len(opt_buy_book_holder)), desc='Checking buy side options'):
  File "/common/home/hg343/anaconda3/lib/python3.9/bdb.py", line 88, in trace_dispatch
    return self.dispatch_line(frame)
  File "/common/home/hg343/anaconda3/lib/python3.9/bdb.py", line 112, in dispatch_line
    self.user_line(frame)
  File "/common/home/hg343/anaconda3/lib/python3.9/pdb.py", line 262, in user_line
    self.interaction(frame, None)
  File "/common/home/hg343/anaconda3/lib/python3.9/pdb.py", line 357, in interaction
    self._cmdloop()
  File "/common/home/hg343/anaconda3/lib/python3.9/pdb.py", line 322, in _cmdloop
    self.cmdloop()
  File "/common/home/hg343/anaconda3/lib/python3.9/cmd.py", line 126, in cmdloop
    line = input(self.prompt)
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py", line 57, in signal_handler
    pool.terminate()
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 654, in terminate
    self._terminate()
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/util.py", line 224, in __call__
    res = self._callback(*self._args, **self._kwargs)
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 692, in _terminate_pool
    cls._help_stuff_finish(inqueue, task_handler, len(pool))
  File "/common/home/hg343/anaconda3/lib/python3.9/multiprocessing/pool.py", line 672, in _help_stuff_finish
    inqueue._rlock.acquire()
  File "/common/home/hg343/Research/accelerate_combo_option/src/combo_stock_frontier_data_preprocessor.py", line 59, in signal_handler
    sys.exit(1)
  File "/common/home/hg343/anaconda3/lib/python3.9/site-packages/wandb/sdk/lib/exit_hooks.py", line 36, in exit
    self._orig_exit(orig_code)  # type: ignore
SystemExit: 1